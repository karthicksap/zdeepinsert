const console = require('./logger.js');

module.exports.patchEnvironmentDestinationsSchema = () => {
    console.debug('Overriding require("./schemas/environment-destinations-schema")');
    const schema = require('@sap/approuter/lib/configuration/schemas/environment-destinations-schema');
    const pattern = '^URL\\.headers\\.[^ :]+$';
    if (!schema.patternProperties) {
        schema.patternProperties = {};
    }
    if (!schema.patternProperties[pattern]) {
        schema.patternProperties[pattern] = {
            type:'string',
            minLength: 1
        };
    }
};
